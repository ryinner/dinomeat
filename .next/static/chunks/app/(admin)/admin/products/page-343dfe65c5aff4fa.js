(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{6122:function(n,t,e){Promise.resolve().then(e.bind(e,7805)),Promise.resolve().then(e.bind(e,2767))},6706:function(n,t,e){"use strict";e.d(t,{Z:function(){return s}});var i=e(7437),a=e(7922),c=e(504),r=e(3178),o=e.n(r);function s(n){let{className:t,...e}=n,r="".concat(o().icon," ").concat(t);return(0,i.jsx)(c.G,{className:r,icon:a.r8p,...e})}},8004:function(n,t,e){"use strict";e.d(t,{Z:function(){return s}});var i=e(7437),a=e(7188),c=e(504),r=e(3178),o=e.n(r);function s(n){let{className:t,...e}=n,r="".concat(o().icon," ").concat(t);return(0,i.jsx)(c.G,{className:r,icon:a.r6l,...e})}},7805:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return u}});var i=e(7437),a=e(1396),c=e.n(a),r=e(4033),o=e(518),s=e.n(o);function u(n){let{page:t,last:e,first:a,start:o,end:u,className:l}=n,d=(0,r.usePathname)(),f=(0,r.useSearchParams)(),h=f.toString().replace(/page=[\w]/gi,"");if(e===a||0===e)return(0,i.jsx)(i.Fragment,{});let p=[];o!==a&&p.push({page:a},{page:"..."});for(let n=o;n<=u;n++)p.push({page:n});return e!==u&&p.push({page:"..."},{page:e}),(0,i.jsx)("div",{className:l,children:(0,i.jsx)("ul",{className:s().pagination,children:p.map(n=>(0,i.jsx)("li",{children:"string"==typeof n.page?(0,i.jsx)("span",{children:n.page}):(0,i.jsx)(c(),{className:"".concat(s().pagination__link," ").concat(n.page===t?s()["pagination__link--active"]:""),href:"".concat(d,"?page=").concat(n.page).concat(h.trim()?"&".concat(h):""),children:n.page})},n.page))})})}},2767:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return d}});var i=e(7437),a=e(6706),c=e(8004),r=e(418),o=e(4241),s=e(1396),u=e.n(s),l=e(2265);function d(n){let{products:t}=n,[e,s]=(0,r.O)(t),[d,f]=(0,l.useState)(null),h=n=>{n.preventDefault(),(0,o.r)("/api/admin/products",{method:"POST",body:JSON.stringify({name:d})},{withMessage:!0}).then(n=>{s([n.product,...e]),f(null)})};return(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:{width:"10%"},children:"Id"}),(0,i.jsx)("th",{style:{width:"70%"},children:"Наименование"}),(0,i.jsx)("th",{style:{width:"20%"},children:null===d?(0,i.jsx)(a.Z,{onClick:()=>{null===d&&f("")}}):(0,i.jsxs)("form",{onSubmit:h,children:[(0,i.jsx)("input",{onInput:n=>{n.target instanceof HTMLInputElement&&f(n.target.value)},value:d}),(0,i.jsx)(c.Z,{onClick:h})]})})]})}),(0,i.jsx)("tbody",{children:e.map(n=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(u(),{href:"/admin/products/".concat(n.id),children:n.id})}),(0,i.jsx)("td",{colSpan:2,children:(0,i.jsx)(u(),{href:"/admin/products/".concat(n.id),children:n.name})})]},n.id))})]})}},418:function(n,t,e){"use strict";e.d(t,{O:function(){return a},R:function(){return c}});var i=e(2265);function a(n){let[t,e]=(0,i.useState)(n);return(0,i.useEffect)(()=>{e(()=>n)},[n]),[t,e]}function c(n,t){let[e,a]=(0,i.useState)(n),c=(0,i.useCallback)(n=>{n instanceof Function&&(n=n(e)),localStorage.setItem(t,JSON.stringify(n)),a(n)},[t,e]);return(0,i.useEffect)(()=>{try{var e;a(JSON.parse(null!==(e=localStorage.getItem(t))&&void 0!==e?e:""))}catch(t){a(n)}},[n,t]),[e,c]}},4241:function(n,t,e){"use strict";e.d(t,{W:function(){return a},r:function(){return c}});var i=e(171);async function a(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(async(e,i)=>{n.includes("http")||(n="http://node.local"+n);try{let a=await fetch(n,t);a.ok?e(await a.json()):i(a)}catch(n){if(n instanceof Error&&"AbortError"!==n.name)throw n}})}async function c(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return new Promise(async(n,e)=>{let[c,r,o]=t;a(c,r).then(t=>{var e,a;null!==(e=null==o?void 0:o.withMessage)&&void 0!==e&&e&&(0,i.toast)(null!==(a=t.message)&&void 0!==a?a:"Успешно"),n(t)}).catch(async n=>{if(404===n.status);else{let t=await n.json();(0,i.toast)(t.message)}})})}},3178:function(n){n.exports={icon:"Icon_icon__goJ4H"}},518:function(n){n.exports={pagination:"Pagination_pagination__MQWKm",pagination__link:"Pagination_pagination__link__IT2AS","pagination__link--active":"Pagination_pagination__link--active__CNTkC"}},1396:function(n,t,e){n.exports=e(8326)},4033:function(n,t,e){n.exports=e(94)}},function(n){n.O(0,[676,122,893,971,472,744],function(){return n(n.s=6122)}),_N_E=n.O()}]);