(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{6704:function(e,t,r){Promise.resolve().then(r.t.bind(r,595,23)),Promise.resolve().then(r.bind(r,9921)),Promise.resolve().then(r.bind(r,2086)),Promise.resolve().then(r.bind(r,8350)),Promise.resolve().then(r.bind(r,754)),Promise.resolve().then(r.bind(r,773)),Promise.resolve().then(r.bind(r,1337)),Promise.resolve().then(r.t.bind(r,413,23)),Promise.resolve().then(r.t.bind(r,8326,23)),Promise.resolve().then(r.t.bind(r,3994,23)),Promise.resolve().then(r.t.bind(r,19,23)),Promise.resolve().then(r.t.bind(r,6898,23)),Promise.resolve().then(r.t.bind(r,8387,23)),Promise.resolve().then(r.t.bind(r,6110,23)),Promise.resolve().then(r.t.bind(r,6692,23)),Promise.resolve().then(r.bind(r,8111)),Promise.resolve().then(r.bind(r,8703)),Promise.resolve().then(r.bind(r,7912)),Promise.resolve().then(r.bind(r,3647)),Promise.resolve().then(r.bind(r,6715)),Promise.resolve().then(r.bind(r,6761)),Promise.resolve().then(r.bind(r,1963)),Promise.resolve().then(r.bind(r,3560)),Promise.resolve().then(r.bind(r,3933))},9921:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(7437),i=r(6305),s=r(8111),a=r(8703),c=r(7912),o=r(6715),u=r(6761);let l=[{label:"Профиль",link_auth:"/auth/sign-in",link_profile:"/profile",icon:u.default},{label:"Корзина",link:"/cart",icon:a.default},{label:"Каталог",link:"/catalog",icon:s.default},{label:"Доставка",link:"/delivery",icon:c.default},{label:"Контакты",link:"/contacts",icon:o.default}];var h=r(5710),_=r(2749),d=r(6691),g=r.n(d),m=r(1396),A=r.n(m),f=r(2265),b={src:"/_next/static/media/burger.1a6b035c.svg",height:25,width:44,blurWidth:0,blurHeight:0},v={src:"/_next/static/media/go-search-white.131ba30c.svg",height:21,width:19,blurWidth:0,blurHeight:0},x={src:"/_next/static/media/search-white.8276674b.svg",height:24,width:22,blurWidth:0,blurHeight:0},p=r(1032),w=r(1212),T=r(1652),S=r.n(T),j=r(754);let M={open:{x:0},closed:{x:-750}};function C(){let[e,t]=(0,f.useState)(!1),r=(0,f.useContext)(w.M),{status:s}=(0,_.useSession)(),a=(0,i.O)(()=>{c()});function c(){t(!1)}return(0,n.jsxs)("div",{className:S()["burger-menu"],children:[(0,n.jsx)(g(),{src:b,height:22,alt:"Открыть навигацию",className:S()["burger-menu__icon"],onClick:function(){t(!0)}}),(0,n.jsx)(h.E.aside,{initial:"closed",animate:e?"open":"closed",variants:M,transition:{duration:.3},className:S()["burger-menu__sidebar"],ref:a,children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:S()["burger-menu__list"],children:[(0,n.jsxs)("li",{className:"".concat(S()["burger-menu__header"]," ").concat(S()["burger-menu__item"]),children:[(0,n.jsx)(g(),{src:b,height:22,alt:"Закрыть навигацию",className:"".concat(S()["burger-menu__icon"]," ").concat(S()["burger-menu__icon--active"]),onClick:c}),(0,n.jsx)(j.default,{className:S()["burger-menu__search"],searchIcon:x,goSearchIcon:v})]}),r.map(e=>(0,n.jsx)("li",{className:S()["burger-menu__item"],children:(0,n.jsx)(p.Z,{onClick:c,category:e})},e.id)),l.map(e=>(0,n.jsx)("li",{className:"".concat(S()["burger-menu__link"]," only-mobile"),children:"link"in e?(0,n.jsx)(A(),{href:e.link,children:(0,n.jsx)("span",{onClick:c,children:e.label})}):"authenticated"===s&&(0,n.jsx)(A(),{href:e.link_profile,children:(0,n.jsx)("span",{onClick:c,children:e.label})})||"unauthenticated"===s&&(0,n.jsx)(A(),{href:e.link_auth,children:(0,n.jsx)("span",{onClick:c,children:e.label})})},e.label))]})})})]})}},2086:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),i=r(4033),s=r(2265),a=r(1032),c=r(1212),o=r(4153),u=r.n(o);function l(){let e=(0,i.usePathname)(),t=(0,s.useContext)(c.M);return(0,n.jsx)(n.Fragment,{children:"/"!==e&&(0,n.jsx)("nav",{className:u()["categories-nav"],children:(0,n.jsx)("ul",{className:u()["categories-nav__list"],children:t.map(e=>(0,n.jsx)("li",{className:u()["categories-nav__item"],children:(0,n.jsx)(a.Z,{category:e})},e.id))})})})}},8350:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(7437);let i="vk__community-messages";var s=r(2265);function a(){return!function(){let e=(0,s.useRef)(!1);(0,s.useEffect)(()=>{e.current||(VK.init({apiId:"51753302",onlyWidgets:!0}),VK.Widgets.CommunityMessages(i,Number("222347534"),{onCanNotWrite:()=>{console.log("Вы не можете писать, открыть попап")},buttonType:"blue_circle",welcomeScreen:1,widgetPosition:"right",tooltipButtonText:"Есть вопросы?",disableTitleChange:1,disableNewMessagesSound:1}),e.current=!0)},[])}(),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{id:i})})}},754:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7437),i=r(6305),s=r(418),a=r(4241),c=r(6691),o=r.n(c),u=r(2265),l={src:"/_next/static/media/go-search.45d21f00.svg",height:22,width:20,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/search.167ec1fe.svg",height:24,width:20,blurWidth:0,blurHeight:0},_={src:"/_next/static/media/x.6cc6d0fa.svg",height:14,width:15,blurWidth:0,blurHeight:0},d=r(1396),g=r.n(d);function m(e){let{product:{slug:t,name:r},children:i,...s}=e;return(0,n.jsx)(g(),{href:"/catalog/".concat(t),children:(0,n.jsx)("span",{...s,children:null!=i?i:r})})}var A=r(1382),f=r.n(A);let b=[];function v(e){var t;let{goSearchIcon:r=l,className:c,searchIcon:d=h,...g}=e,A=(0,u.useRef)(null),v=(0,u.useRef)(),[x,p]=(0,u.useState)(!1),[w,T]=(0,u.useState)([]),[S,j]=(0,s.R)(b,"search-history"),M=(0,i.O)(()=>{p(!1)}),C="".concat(f().search," ").concat(void 0===c?"":c),N=S.length>0&&0===w.length&&(null===(t=A.current)||void 0===t?void 0:t.value)==="",k=x&&(S.length>0||w.length>0);return(0,n.jsxs)("search",{className:C,role:"search",ref:M,...g,children:[(0,n.jsx)(o(),{className:f()["search__icon-magnifier"],src:d,alt:"Иконка поиска"}),(0,n.jsx)("input",{className:"".concat(f().search__input," ").concat(k&&f()["search__input--with-list"]),placeholder:"Поиск",type:"text",inputMode:"search",onChange:function(e){e.preventDefault();let{value:t}=e.target;""===t.trim()?T([]):(void 0!==v.current&&v.current.abort(),v.current=new AbortController,(0,a.r)("/api/products?query=".concat(t),{method:"GET",signal:v.current.signal},{}).then(e=>{T(e.products)}))},onFocus:function(){p(!0)},ref:A}),(0,n.jsx)(o(),{className:f()["search__icon-go"],src:r,alt:"Найти"}),k&&(0,n.jsx)("ul",{className:"".concat(f().search__list," ").concat(N?f()["search__list--row"]:f()["search__list--column"]),children:N?S.map(e=>(0,n.jsxs)("li",{className:f()["search__history-item"],children:[(0,n.jsx)(m,{product:e}),(0,n.jsx)(o(),{src:_,alt:"Удалить из истории поиска",className:f()["search__remove-icon"],onClick:()=>{var t;t=e.id,j(e=>e.filter(e=>e.id!==t))}})]},e.id)):w.map(e=>(0,n.jsx)("li",{className:f().search__item,children:(0,n.jsx)(m,{product:e,onClick:()=>{!function(e){let t=S.filter(t=>t.id!==e.id);t.length>5&&t.splice(5,t.length-5),j([e,...t]),T([]),p(!1),A.current&&(A.current.value="")}(e)}})},e.id))})]})}},1032:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7437),i=r(1396),s=r.n(i);function a(e){let{category:{id:t,name:r},...i}=e;return(0,n.jsx)(s(),{href:"/catalog?category_id=".concat(t),children:(0,n.jsx)("span",{...i,children:r})})}},1212:function(e,t,r){"use strict";r.d(t,{M:function(){return a},Z:function(){return c}});var n=r(7437),i=r(4241),s=r(2265);let a=(0,s.createContext)([]);function c(e){let{children:t}=e,[r,c]=(0,s.useState)([]),o=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{o.current||(o.current=!0,(0,i.W)("/api/categories",{next:{revalidate:600}}).then(e=>{c(e.categories)}))},[]),(0,n.jsx)(a.Provider,{value:r,children:t})}},773:function(e,t,r){"use strict";r.r(t),r.d(t,{TheProviders:function(){return a}});var n=r(7437),i=r(2749),s=r(171);function a(e){let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.SessionProvider,{children:[t,(0,n.jsx)(s.ToastContainer,{hideProgressBar:!0,theme:"dark",autoClose:3e3})]})})}r(3343)},1337:function(e,t,r){"use strict";r.r(t),r.d(t,{TheSiteProviders:function(){return s}});var n=r(7437),i=r(1212);function s(e){let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{children:t})})}},6305:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var n=r(2265);function i(e){let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let r=r=>{let n=t.current;n&&r.target instanceof Node&&!n.contains(r.target)&&e(r)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e]),t}},418:function(e,t,r){"use strict";r.d(t,{O:function(){return i},R:function(){return s}});var n=r(2265);function i(e){let[t,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{r(()=>e)},[e]),[t,r]}function s(e,t){let[r,i]=(0,n.useState)(e),s=(0,n.useCallback)(e=>{e instanceof Function&&(e=e(r)),localStorage.setItem(t,JSON.stringify(e)),i(e)},[t,r]);return(0,n.useEffect)(()=>{try{var r;i(JSON.parse(null!==(r=localStorage.getItem(t))&&void 0!==r?r:""))}catch(t){i(e)}},[e,t]),[r,s]}},4241:function(e,t,r){"use strict";r.d(t,{W:function(){return i},r:function(){return s}});var n=r(171);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(async(r,n)=>{e.includes("http")||(e="http://node.local"+e);try{let i=await fetch(e,t);i.ok?r(await i.json()):n(i)}catch(e){if(e instanceof Error&&"AbortError"!==e.name)throw e}})}async function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(async(e,r)=>{let[s,a,c]=t;i(s,a).then(t=>{var r,i;null!==(r=null==c?void 0:c.withMessage)&&void 0!==r&&r&&(0,n.toast)(null!==(i=t.message)&&void 0!==i?i:"Успешно"),e(t)}).catch(async e=>{if(404===e.status);else{let t=await e.json();(0,n.toast)(t.message)}})})}},595:function(){},1652:function(e){e.exports={"burger-menu__icon":"TheBurgerMenu_burger-menu__icon__b4vHC","burger-menu__icon--active":"TheBurgerMenu_burger-menu__icon--active__StRhv","burger-menu__header":"TheBurgerMenu_burger-menu__header__X17ld","burger-menu__sidebar":"TheBurgerMenu_burger-menu__sidebar__4_Er0","burger-menu__list":"TheBurgerMenu_burger-menu__list__trk5d","burger-menu__item":"TheBurgerMenu_burger-menu__item__c5jD7","burger-menu__link":"TheBurgerMenu_burger-menu__link__pinSY"}},4153:function(e){e.exports={"categories-nav":"TheCategoriesNavigation_categories-nav__RhkOp","categories-nav__list":"TheCategoriesNavigation_categories-nav__list__OqBr5"}},6692:function(e){e.exports={footer:"TheFooter_footer__wlIxM",footer__container:"TheFooter_footer__container__wug1W","footer__company-info":"TheFooter_footer__company-info__J4qtC",footer__images:"TheFooter_footer__images__qjlNZ"}},6898:function(e){e.exports={header:"TheHeader_header__z9exR",header__container:"TheHeader_header__container__hDHto"}},8387:function(e){e.exports={logo:"TheLogo_logo__MuSs6"}},6110:function(e){e.exports={nav:"TheNavigation_nav__43oth",nav__list:"TheNavigation_nav__list__Ywss8",nav__item:"TheNavigation_nav__item__SMvZd",nav__link:"TheNavigation_nav__link__V_M2h"}},1382:function(e){e.exports={search:"TheSearch_search__aR_fZ",search__input:"TheSearch_search__input__Qgm_F","search__input--with-list":"TheSearch_search__input--with-list__AiPZN","search__icon-go":"TheSearch_search__icon-go__5kBjO","search__icon-magnifier":"TheSearch_search__icon-magnifier__SbvPp",search__list:"TheSearch_search__list__Uaq96","search__list--row":"TheSearch_search__list--row__21fcb","search__list--column":"TheSearch_search__list--column__P2PbY",search__item:"TheSearch_search__item__ZZD_r","search__history-item":"TheSearch_search__history-item__peAqe","search__remove-icon":"TheSearch_search__remove-icon__dilmq"}},8111:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/book.a5c74137.svg",height:18,width:15,blurWidth:0,blurHeight:0}},8703:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/cart.5923decd.svg",height:18,width:21,blurWidth:0,blurHeight:0}},7912:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/delivery.f5b41bb0.svg",height:16,width:26,blurWidth:0,blurHeight:0}},3647:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/logo.7b9f2095.svg",height:34,width:35,blurWidth:0,blurHeight:0}},6715:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/map-pin.5d78baa5.svg",height:18,width:13,blurWidth:0,blurHeight:0}},6761:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/user.39619bdb.svg",height:19,width:20,blurWidth:0,blurHeight:0}},1963:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/alpha-bank-mobile.a20d747c.png",height:40,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXH0MiXvMCXwLyPzMSTxMST3MiXvMCPyMST1MiXsMSTwMCPrMCH5MyYdIDXxAAAADXRSTlMARywVzoXjnb3aYvU1yUnANQAAAAlwSFlzAAALEwAACxMBAJqcGAAAADRJREFUeJwdiUcOACAMgOiydf3/u8ZygQSAchqdQzoiIjvca37LWKufCsgBzFTNgLx73+QBFyoAzu7N0TQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},3560:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/alpha-bank.13ed67e5.png",height:50,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAElBMVEXwLyPvLyXvMCPvLyXqLiTwKyTL+lvrAAAABnRSTlM9EFEwMSOFQn/3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGUlEQVR4nAXBAQEAAAgCILT6fzkQg42rIg8AxwAUGNQboQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2}},3933:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/vk-mobile.9c56443b.png",height:40,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEVKebrQ3O04b7lEd7xcicVHeb5DdrxCd7w+dL1MaXF9oM+hut44cLtHebywxeJSgb9FfMa6zebz9vt/qN5qmdbb2ATRAAAAEHRSTlMb/uDi/ZWd2v0A/PyT5f34mFqUOwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD5JREFUeJwtykECgCAIAMFVUUStQPv/W7s058FoV2kYZO/dFdqRIeNd5BkRSZTiae/kSvXnlnkW6J+NqlqxD0v/AiFC/+ARAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[122,691,749,653,160,971,472,744],function(){return e(e.s=6704)}),_N_E=e.O()}]);