(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[402],{9926:function(r,n,e){Promise.resolve().then(e.t.bind(e,4898,23)),Promise.resolve().then(e.bind(e,5018))},3981:function(r,n,e){"use strict";e.d(n,{Z:function(){return i}});var t=e(7437);e(2265);var s=e(3913),o=e.n(s);function i(r){let{children:n,className:e,...s}=r,i="".concat(o().button," ").concat(null!=e?e:"");return(0,t.jsx)("button",{className:i,...s,children:n})}},419:function(r,n,e){"use strict";var t=e(7437),s=e(2265),o=e(4244),i=e.n(o);let u=(0,s.forwardRef)((r,n)=>{let{className:e,...s}=r,o="".concat(i().input," ").concat(e);return(0,t.jsx)("input",{className:o,...s,ref:n})});u.displayName="ControlsInput",n.Z=u},5018:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return p}});var t=e(7437),s=e(7739),o=e(2749),i=e(4033),u=e(2265),c=e(1865),a=e(3981),l=e(419),_=e(8173),m=e(6853),f=e.n(m);function d(){let r=(0,i.useSearchParams)();return(0,t.jsx)(a.Z,{onClick:()=>{var n;return(0,o.signIn)("vk",{redirect:!1,callbackUrl:null!==(n=r.get("redirectUri"))&&void 0!==n?n:"/profile"})},children:"Войти через VK"})}function p(){let r=(0,i.useRouter)(),n=(0,i.useSearchParams)(),[e,m]=(0,u.useState)({message:""}),{register:p,handleSubmit:h,formState:{errors:x}}=(0,c.cI)();return(0,t.jsxs)("form",{onSubmit:h((e,t)=>{null==t||t.preventDefault(),(0,o.signIn)("credentials",{...e,redirect:!1}).then(e=>{if((null==e?void 0:e.error)&&m({message:"Неверная почта или пароль"}),null==e?void 0:e.ok){var t;r.push(null!==(t=n.get("redirectUri"))&&void 0!==t?t:"/profile")}})}),className:f().form,children:[(0,t.jsxs)("label",{className:f().form__label,children:["Почта",(0,t.jsx)(l.Z,{className:f().form__input,inputMode:"email",type:"email",...p("email",{required:"Поле почта обязательно для заполнения",validate:s.J})}),x.email&&(0,t.jsx)("span",{className:f().form__error,children:"* введите почту длинной не менее 2 символов"})]}),(0,t.jsxs)("label",{className:f().form__label,children:["Пароль",(0,t.jsx)(l.Z,{className:f().form__input,type:"password",...p("password",{required:"Поле пароль обязательно для заполнения",minLength:8})}),x.password&&(0,t.jsx)("span",{className:f().form__error,children:"* введите пароль"})]}),(0,t.jsxs)("div",{className:f()["form__button-section"],children:[(0,t.jsx)(a.Z,{children:"Войти"}),""!==e.message&&(0,t.jsxs)("span",{className:f().form__error,children:["* ",e.message]}),(0,t.jsx)(d,{})]}),(0,t.jsx)("div",{className:f()["form__button-section"],children:(0,t.jsx)(_.Z,{className:f().form__link,href:"/auth/sign-up",children:"Зарегистрироваться"})})]})}},8173:function(r,n,e){"use strict";e.d(n,{Z:function(){return c}});var t=e(7437),s=e(1396),o=e.n(s),i=e(2893),u=e.n(i);function c(r){let{children:n,className:e,...s}=r,i="".concat(u().link," ").concat(e);return(0,t.jsx)(o(),{className:i,...s,children:n})}},7739:function(r,n,e){"use strict";function t(r){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(r)}e.d(n,{J:function(){return t}})},4898:function(r){r.exports={section:"page_section__b6Mix"}},3913:function(r){r.exports={button:"Button_button__OFOdO"}},4244:function(r){r.exports={input:"ControlsInputs_input__cvkxv"}},6853:function(r){r.exports={form:"AuthForms_form__RwmMp",form__label:"AuthForms_form__label__K5E16",form__input:"AuthForms_form__input__JakVg",form__error:"AuthForms_form__error__3nr_p","form__button-section":"AuthForms_form__button-section__ckr5J",form__link:"AuthForms_form__link__Vr6dm"}},2893:function(r){r.exports={link:"DefaultLink_link__dgXCU"}}},function(r){r.O(0,[122,366,749,971,472,744],function(){return r(r.s=9926)}),_N_E=r.O()}]);